include $(TOP)/../fost-base/fost.jam ;
using testing ;

fost-exe fostgres-test
    :
        ../../../fost-base/Cpp/fost-cli
        ../../../fost-base/Cpp/fost-core
        ../../../fost-base/Cpp/fost-datetime
        ../../../fost-internet/Cpp/fost-inet
        ../../../fost-postgres/Cpp/fost-postgres
        fg.cpp
        fg.builtin.cpp
        fg.parser.cpp
        fostgres-test.cpp
    ;

run-fail fostgres-test :
        fostgres-test-noscript
    :
    :
    :
        fostgres-test-noscript
    ;

run-fail fostgres-test :
        fostgres-test-empty
    :
        empty.fg
    :
    :
        fostgres-test-empty
    ;


# These tests should be in Examples/Jamfile

run fostgres-test :
        fostgres-test-films
    :
        ../../Example/config/view.film-slug.json
        ../../Example/schema/films.tables.sql
        ../../Example/tests/films.fg
    :
    :
        test-films
    ;

