include $(TOP)/../fost-base/fost.jam ;
using testing ;

fost-exe fostgres-test
    :
        ../../../fost-base/Cpp/fost-cli
        ../../../fost-postgres/Cpp/fost-postgres
        ../fostgres-fg
        fostgres-test.cpp
    ;

run-fail fostgres-test :
        fostgres-test-noscript
    :
    :
    :
        fostgres-test-noscript
    ;

run fostgres-test :
        fostgres-test-comment
    :
        comment.fg
    :
    :
        fostgres-test-comment
    ;

run fostgres-test :
        fostgres-test-empty
    :
        empty.fg
    :
    :
        fostgres-test-empty
    ;


# These tests should be in Examples/Jamfile

run fostgres-test :
        fostgres-test-films
    :
        ../../Example/config/view.film-slug.json
        ../../Example/schema/films.tables.sql
        ../../Example/tests/film.t1.fg
        ../fostgres//fostgres
    :
    :
        test-films
    ;

